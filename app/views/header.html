<header ng-controller="header" ng-init="init()">
    <div class="brand">CodeBrew</div>
    <div class="search-area">
        <div class="btn-group profile" ng-show="loggedIn()" ng-class="{ 'open': profileOpen }">
            <button type="button" class="btn btn-default btn-sm dropdown-toggle" data-toggle="dropdown" ng-click="toogleProfile()">
                <img class="img-rounded" ng-src="{{ user.gravatar }}">{{ user.name }}<span class="caret"></span>
            </button>
            <ul class="dropdown-menu" role="menu">
                <li><a href="/settings">Settings</a></li>
                <li><a href="/logout">Logout</a></li>
            </ul>
        </div>
        <a class="btn btn-primary" ng-show="!loggedIn()" href="/login">Login</a>

        <typeahead class="search" items="all"
            term="term" search="search(term)" select="select(item)">
            <div class="doc">
                <h3 ng-show="hasDocs()">Doc</h3>
                <ul>
                    <li typeahead-item="doc" ng-repeat="doc in docs" class="results">
                        <span class="class">{{doc.qualifiedName}}</span>
                        <span class="signature">{{doc.signature}}</span>
                        <textarea ui-codemirror="codemirrorOptions" ng-model="doc.comment.example"></textarea>
                    </li>
                </ul>
            </div>
            <div class="snippet">
                <h3>Snippet</h3>
                <ul>
                    <li typeahead-item="snippet" ng-repeat="s in snippets" class="results">
                        <textarea ui-codemirror="codemirrorOptions" ng-model="s.snippet['code.origin']"></textarea>
                    </li>
                </ul>
            </div>
        </typeahead>
    </div>
</header>